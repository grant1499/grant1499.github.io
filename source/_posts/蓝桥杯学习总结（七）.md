---
title: 蓝桥杯学习总结（七）
date: 2021-04-17 13:10:31
tags: [蓝桥杯,竞赛,前缀和]
categories: 
	- [C++]
	- [算法]
mathjax: true
copyright: true
---

#### 1.7 acwing.1227. 分巧克力（蓝桥杯省赛C++A/B组）

<!--more-->

```C++
儿童节那天有 K 位小朋友到小明家做客。
小明拿出了珍藏的巧克力招待小朋友们。
小明一共有 N 块巧克力，其中第 i 块是 Hi×Wi 的方格组成的长方形。
为了公平起见，小明需要从这 N 块巧克力中切出 K 块巧克力分给小朋友们。
切出的巧克力需要满足：
形状是正方形，边长是整数
大小相同
例如一块 6×5 的巧克力可以切出 6 块 2×2 的巧克力或者 2 块 3×3 的巧克力。
当然小朋友们都希望得到的巧克力尽可能大，你能帮小明计算出最大的边长是多少么？

输入格式
第一行包含两个整数 N 和 K。
以下 N 行每行包含两个整数 Hi 和 Wi。
输入保证每位小朋友至少能获得一块 1×1 的巧克力。

输出格式
输出切出的正方形巧克力最大可能的边长。

数据范围
1≤N,K≤105,
1≤Hi,Wi≤105
输入样例：
2 10
6 5
5 6
输出样例：
2
```

y总思路：

![image-20210421181429479](蓝桥杯学习总结（七）/image-20210421181429479.png)

![image-20210421225102950](蓝桥杯学习总结（七）/image-20210421225102950.png)

时间复杂度：求f(mid)是O(N)，二分是O(logH)，总的是`O(N*logH)`，也就是`10^5*log10^5`.

```C++
// y总题解
#include <cstdio>
#include <algorithm>
using namespace std;
const int N = 100000;
int n,k;
int h[N],w[N];
bool check(int mid){
    int res = 0;
    for (int i = 0;i < n;i++){
        res += (h[i]/mid)*(w[i]/mid); // res求边长为mid时的块数
        if (res >= k) return true;
    }
    return false;    
}
int main(){
    scanf("%d%d",&n,&k);
    for (int i = 0;i < n;i++) scanf("%d%d",&h[i],&w[i]);
    int l = 1,r = 1e5;
    while (l < r){
        int mid = (l+r+1) >> 1;
        if (check(mid)) l = mid;
        else r = mid - 1;
    }
    printf("%d\n",r);
    return 0;
}
```

详细题解思路请参考：https://www.acwing.com/solution/content/6883/