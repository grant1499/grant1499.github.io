---
title: 汇编入门笔记（八）
date: 2021-09-28 10:40:57
tags:
  - 汇编
categories:
  - - 汇编
mathjax: false
copyright: true
---

## 0x23：汇编语言中数据位置的表达

数据处理的两个基础问题？

<!--more-->

1. 处理的数据在哪；
2. 处理的数据多长。

如何表示数据的位置？

也就是某条指令执行前一刻数据的位置。

汇编语言中用3个概念来表达数据的位置：

- 立即数（idata）

```assembly
mov ax, 1                 ;对于直接包含在机器指令中的数据（执行前在CPU的指令缓冲器中）
add bx, 2000h             ;在汇编语言中称为：立即数（idata）
or bx, 00010000b
mov al, 'a'
```

- 寄存器

```assembly
mov ax, bx     ;指令要处理的数据在寄存器中，在汇编指令中给出相应的寄存器名。
mov ds, ax 
push bx 
mov ds:[0], bx 
push ds 
mov ss, ax
mov sp, ax
```

- 段地址（SA）和偏移地址（EA）

```assembly
;指令要处理的数据在内存中，在汇编指令中可用[X]的格式给出EA，SA在某个段寄存器中。
mov ax, [0]
mov ax, [di]
mov ax, [bx+8]
mov ax, [bx+si]
mov ax, [bx+si+8]   ;以上段地址默认在ds中

mov ax, [bp]
mov ax, [bp+8]
mov ax, [bp+si]
mov ax, [bp+si+8]   ;以上段地址默认在ss中

mov ax, ds:[bp]
mov ax, es:[bx]
mov ax, ss:[bx+si]
mov ax, cs:[bx+si+8] ;显式给出存放段地址的寄存器
```

## 0x24：寻址方式总结

![image-20210928112120898](汇编入门笔记（八）/image-20210928112120898.png)

## 0x25：指令要处理的数据有多长

8086CPU的指令，可以处理两种尺寸的数据，byte和word。

1. 通过寄存器名指明要处理的数据的尺寸。
    例如： `mov al, ds:[0]` 寄存器al指明了数据为1字节

2. 在没有寄存器名存在的情况下，用操作符`X ptr`指明内存单元的长度，X在汇编指令中可以为`word`或`byte`。
    例如：`mov byte ptr ds:[0], 1` byte ptr 指明了指令访问的内存单元是一个字节单元

3. 有些指令默认了访问的是字单元还是字节单元
    例如，`push [1000H]`，push 指令只进行字操作。